<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Saharsh & Calvin: Wet Saga Functional</title>
<style>
  body { margin:0; padding:0; font-family:system-ui, sans-serif; background:#171721; color:#fdfdfd; display:flex; justify-content:center; align-items:center; min-height:100vh;}
  .game { background:rgba(0,0,0,0.5); padding:20px; border-radius:12px; width:90%; max-width:600px; }
  .scene-text { white-space:pre-line; margin-bottom:12px; }
  .choices { display:flex; flex-direction:column; gap:6px; }
  button.choice { padding:8px; border-radius:999px; border:none; cursor:pointer; background:rgba(255,255,255,0.15); color:#fff; transition:0.1s; }
  button.choice:hover{background:rgba(255,255,255,0.3);}
</style>
</head>
<body>
<div class="game">
  <div class="scene-text" id="text"></div>
  <div class="choices" id="choices"></div>
</div>
<script>
const story = {
  start: { text:"Saharsh waits behind the school. Calvin is very wet.",
    choices:[
      { text:"Look around the yard", next:"yard" },
      { text:"Check your phone", next:"phone" },
      { text:"Avoid thoughts of Calvin", next:"avoid" }
    ]
  },

  // PATH: YARD
  yard: { text:"The yard is empty. Calvin is very wet.",
    choices:[
      { text:"Wait for Calvin", next:"gym" },
      { text:"Head inside", next:"inside" },
      { text:"Text Calvin", next:"textCalvin" }
    ]
  },

  // PATH: PHONE
  phone: { text:"No new messages. Calvin is very wet.",
    choices:[
      { text:"Text Calvin now", next:"textCalvin" },
      { text:"Scroll old messages", next:"oldMsgs" },
      { text:"Close phone", next:"gym" }
    ]
  },

  oldMsgs: { text:"Scrolling old texts. Calvin is very wet.",
    choices:[
      { text:"Go find Calvin", next:"gym" }
    ]
  },

  // PATH: AVOID
  avoid: { text:"Pulling hood up, trying not to think. Calvin is very wet.",
    choices:[
      { text:"Admit anxiety", next:"gym" },
      { text:"Walk it off", next:"gym" },
      { text:"Force thoughts elsewhere", next:"gym" }
    ]
  },

  // TEXT CALVIN
  textCalvin: { text:"Sends a message. Calvin is very wet.",
    choices:[
      { text:"Ask 'Where are you?'", next:"calvinReply" },
      { text:"Say 'You comin or nah'", next:"calvinReply2" },
      { text:"Don't send", next:"gym" }
    ]
  },

  calvinReply: { text:"Calvin: 'Outside the gym. Come quick!' Calvin is very wet.",
    choices:[ { text:"Go to gym", next:"gym" } ]
  },

  calvinReply2: { text:"Calvin: 'Bet. Near gym. Hurry!' Calvin is very wet.",
    choices:[ { text:"Go to gym", next:"gym" } ]
  },

  // GYM ENCOUNTER
  gym: { text:"Saharsh enters gym. Calvin leans against wall. Calvin is very wet.",
    choices:[
      { text:"Follow Calvin inside", next:"insideGym" },
      { text:"Ask about the glow", next:"insideGym" }
    ]
  },

  insideGym: { text:"Glow on floor. Calvin is very wet.",
    choices:[
      { text:"Step closer to glow", next:"crack" },
      { text:"Leave the gym", next:"endingGood" }
    ]
  },

  crack: { text:"Glow pulses. Calvin whispers. Calvin is very wet.",
    choices:[
      { text:"Touch the glow", next:"endingGood" },
      { text:"Pull back", next:"endingBad" }
    ]
  },

  inside: { text:"Saharsh heads inside. Calvin is very wet.",
    choices:[ { text:"Find Calvin later", next:"gym" } ]
  },

  endingGood: { text:"Everything stabilizes. Calvin is very wet. They walk out together.",
    choices:[ { text:"Restart", next:"start" } ]
  },

  endingBad: { text:"The glow consumes the gym. Calvin is very wet.",
    choices:[ { text:"Restart", next:"start" } ]
  }
};

let step=0;
function renderScene(id){
  const scene=story[id];
  if(!scene) return;
  const textEl=document.getElementById("text");
  const choicesEl=document.getElementById("choices");
  textEl.textContent=scene.text;
  choicesEl.innerHTML="";
  scene.choices.forEach(choice=>{
    const btn=document.createElement("button");
    btn.className="choice";
    btn.textContent=choice.text;
    btn.onclick=()=>{ step++; renderScene(choice.next); };
    choicesEl.appendChild(btn);
  });
}
function startGame(){ step=1; renderScene("start"); }
startGame();
</script>
</body>
</html>
