<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Saharsh & Calvin: Full Adventure</title>
<style>
:root { color-scheme: light dark; font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif; }
body { margin:0; padding:0; background: radial-gradient(circle at top, #ffe6f2, #171721); color:#fdfdfd; min-height:100vh; display:flex; align-items:center; justify-content:center; }
.game { background: rgba(0,0,0,0.5); border-radius:16px; max-width:700px; width:90%; padding:24px 28px 20px; box-shadow:0 20px 40px rgba(0,0,0,0.5); backdrop-filter: blur(10px); }
.title { font-size:1.6rem; font-weight:700; margin-bottom:6px; }
.subtitle { font-size:0.9rem; opacity:0.75; margin-bottom:18px; }
.scene-text { white-space: pre-line; line-height:1.5; margin-bottom:18px; font-size:1rem; }
.choices { display:flex; flex-direction:column; gap:8px; }
button.choice { padding:10px 14px; border-radius:999px; border:none; cursor:pointer; font-size:0.95rem; text-align:left; background: rgba(255,255,255,0.12); color:#fdfdfd; transition: background 0.2s, transform 0.05s, box-shadow 0.1s; }
button.choice:hover { background: rgba(255,255,255,0.2); box-shadow:0 4px 12px rgba(0,0,0,0.3); transform: translateY(-1px);}
button.choice:active { transform:translateY(0); box-shadow:0 0 0 rgba(0,0,0,0);}
.meta { margin-top:14px; font-size:0.8rem; opacity:0.7; display:flex; justify-content:space-between; align-items:center; }
.restart { padding:4px 10px; border-radius:999px; border:1px solid rgba(255,255,255,0.35); background:transparent; color:inherit; cursor:pointer; font-size:0.75rem; }
.restart:hover { background: rgba(255,255,255,0.12);}
</style>
</head>
<body>
<div class="game">
<div class="title">Saharsh's Full Adventure</div>
<div class="subtitle">Multi-path, fully functional</div>
<div class="scene-text" id="text"></div>
<div class="choices" id="choices"></div>
<div class="meta">
<span id="status"></span>
<button class="restart" onclick="startGame()">Restart</button>
</div>
</div>

<script>
const calvinState = { hasDrink:true };

const story = {
start:{
text:`Saharsh steps into the abandoned yard behind the school. Calvin is there, drink in hand, watching the wind.`,
choices:[
{ text:"Look around the yard", next:"look_yard" },
{ text:"Check your phone", next:"check_phone" },
{ text:"Try to ignore Calvin", next:"avoid_thoughts" }
]
},
look_yard:{
text:`The yard is empty except for scattered leaves and a soda can. Calvin sips his drink casually.`,
choices:[
{ text:"Wait for Calvin", next:"wait_calvin" },
{ text:"Go back inside", next:"head_inside" },
{ text:"Text Calvin where you are", next:"text_calvin" }
]
},
check_phone:{
text:`Saharsh unlocks his phone. No new messages from Calvin. He scrolls through old conversations.`,
choices:[
{ text:"Send Calvin a message", next:"text_calvin" },
{ text:"Put phone away and focus", next:"avoid_thoughts" }
]
},
avoid_thoughts:{
text:`Saharsh tries to focus on something else. The cold makes him shiver. Calvin watches, drink in hand.`,
choices:[
{ text:"Force yourself to think of homework", next:"force_thoughts" },
{ text:"Stand up and walk around", next:"walk_off" }
]
},
text_calvin:{
text:`Saharsh types a message to Calvin. Calvin tilts his head, drink in hand, waiting.`,
choices:[
{ text:"Ask where he is", next:"calvin_reply" },
{ text:"Send a casual emoji", next:"calvin_reply" }
]
},
wait_calvin:{
text:`Calvin approaches, holding his drink, grinning.`,
choices:[
{ text:"Greet him warmly", next:"gym_meet" },
{ text:"Stay silent", next:"gym_meet" }
]
},
head_inside:{
text:`Saharsh walks back inside. The halls echo.`,
choices:[
{ text:"Check the gym", next:"gym_meet" },
{ text:"Sit in the classroom", next:"classroom_scene" }
]
},
gym_meet:{
text:`The gym is dim. A strange glowing crack is on the floor. Calvin sips his drink and points.`,
choices:[
{ text:"Step closer", next:"crack1" },
{ text:"Ask what's happening", next:"ask_glow" },
{ text:"Leave the gym", next:"leave_gym" }
]
},
ask_glow:{
text:`Calvin whispers: "I saw this earlier. Something is… odd."`,
choices:[
{ text:"Investigate", next:"crack1" },
{ text:"Tell Calvin to go first", next:"calvin_go_first" }
]
},
leave_gym:{
text:`The gym feels heavy. Calvin sips his drink while Saharsh hesitates.`,
choices:[
{ text:"Follow reluctantly", next:"crack1" },
{ text:"Leave completely", next:"walk_off" }
]
},
crack1:{
text:`Saharsh touches the glowing crack. Whispers surround him. Calvin steadies his drink.`,
choices:[
{ text:"Listen to the whispers", next:"void1" },
{ text:"Pull your hand back", next:"pull_back1" }
]
},
pull_back1:{
text:`The glow dims. Calvin pats Saharsh on the shoulder, drink still in hand.`,
choices:[
{ text:"Admit hearing voices", next:"heard_voices" },
{ text:"Pretend everything is fine", next:"lie_fine" }
]
},
force_thoughts:{
text:`Saharsh tries to concentrate. Calvin leans against a wall, drink in hand.`,
choices:[
{ text:"Keep trying", next:"gym_meet" },
{ text:"Give up and walk", next:"walk_off" }
]
},
walk_off:{
text:`Saharsh walks around to clear his head. Calvin follows, drink in hand.`,
choices:[
{ text:"Talk to Calvin", next:"gym_meet" },
{ text:"Stay silent", next:"head_inside" }
]
},
classroom_scene:{
text:`The classroom is empty. Saharsh thinks deeply.`,
choices:[
{ text:"Go check the gym", next:"gym_meet" },
{ text:"Stay put", next:"walk_off" }
]
},
calvin_reply:{
text:`Calvin responds almost immediately. Drink in hand, he gestures towards the gym.`,
choices:[
{ text:"Go to the gym", next:"gym_meet" },
{ text:"Ignore him for now", next:"walk_off" }
]
},
void1:{
text:`Saharsh is in a strange void beneath the gym. Whispers swirl around. Calvin floats nearby, drink in hand.`,
choices:[
{ text:"Explore the void", next:"void_explore" },
{ text:"Call out to Calvin", next:"void_call" }
]
},
void_explore:{
text:`The echoes guide Saharsh. He feels pressure on his chest. Calvin sips his drink nervously.`,
choices:[
{ text:"Try to stabilize the fracture", next:"stabilize" },
{ text:"Let the voices lead", next:"echo_path" }
]
},
void_call:{
text:`Calvin floats closer. Drink in hand.`,
choices:[
{ text:"Grab his hand", next:"pull_out" },
{ text:"Step back and observe", next:"void_explore" }
]
},
stabilize:{
text:`Saharsh touches the fracture. The glow steadies. Calvin cheers while sipping.`,
choices:[
{ text:"Leave the void together", next:"ending_good" }
]
},
echo_path:{
text:`Saharsh lets the echoes guide him. Calvin tries to intervene, drink in hand.`,
choices:[
{ text:"Resist", next:"ending_bad" },
{ text:"Accept", next:"ending_true" }
]
},
pull_out:{
text:`Saharsh pulls Calvin from a smaller echo trap. Glow dims.`,
choices:[
{ text:"Thank him", next:"ending_good" },
{ text:"Stay quiet", next:"ending_true" }
]
},
heard_voices:{
text:`Saharsh admits the whispers. Calvin nods, still holding his drink.`,
choices:[
{ text:"Move forward", next:"crack1" }
]
},
lie_fine:{
text:`Saharsh lies. Calvin smiles, sipping his drink.`,
choices:[
{ text:"Proceed", next:"crack1" }
]
},
ending_good:{
text:`The fracture settles. Saharsh and Calvin leave together. Calvin’s drink is still full. Calm returns.`,
choices:[
{ text:"Play again", next:"start" }
]
},
ending_bad:{
text:`The void swallows everything. Calvin spills his drink trying to help.`,
choices:[
{ text:"Restart", next:"start" }
]
},
ending_true:{
text:`Saharsh stabilizes all echoes. Calvin cheers, drink in hand. Reality resets perfectly.`,
choices:[
{ text:"Play again", next:"start" }
]
}
};

let step = 0;
function renderScene(id){
const scene=story[id]; if(!scene) return;
const textEl=document.getElementById("text");
const choicesEl=document.getElementById("choices");
const statusEl=document.getElementById("status");
textEl.textContent="";
let i=0; const fullText=scene.text;
function type(){ if(i<=fullText.length){ textEl.textContent=fullText.slice(0,i); i++; requestAnimationFrame(type); } }
type();
choicesEl.innerHTML="";
scene.choices.forEach(choice=>{ 
const btn=document.createElement("button"); btn.className="choice"; btn.textContent=choice.text;
btn.onclick=()=>{ step++; renderScene(choice.next); }; choicesEl.appendChild(btn);
});
statusEl.textContent=`Step ${step}`;
}
function startGame(){ step=1; renderScene("start"); }
startGame();
</script>
</body>
</html>
